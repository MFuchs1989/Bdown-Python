---
title: Recommendation Systems - Metadata-based Recommender
author: Michael Fuchs
date: '2020-10-05'
slug: recommendation-systems-metadata-based-recommender
categories:
  - R
tags:
  - R Markdown
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>


<div id="table-of-content" class="section level1">
<h1>Table of Content</h1>
<ul>
<li>1 Introduction</li>
<li>2 Import the libraries and the data</li>
<li>3 Data pre-processing</li>
<li>3.1 Clean id column of df</li>
<li>3.2 Join the dataframes</li>
<li>3.3 Wrangling crew, cast, keywords and genres</li>
<li>3.4 Sanitize data</li>
<li>3.5 Create a soup of desired metadata</li>
<li>3.6 Create vectors with CountVectorizer</li>
<li>3.7 Compute the pairwise similarity</li>
<li>4 Build the Metadata-based Recommender</li>
<li>5 Test the recommender</li>
<li>6 Conclusion</li>
</ul>
</div>
<div id="introduction" class="section level1">
<h1>1 Introduction</h1>
<p>For this post the datasets <em>movies_metadata</em>, <em>keywords</em> and <em>credits</em> from the statistic platform <a href="https://www.kaggle.com">“Kaggle”</a> was used. You can download it from my <a href="https://github.com/MFuchs1989/Bdown-Python/tree/master/datasets/Recommendation%20Systems/Knowledged-based%20Recommender">“GitHub Repository”</a> and here:</p>
<ul>
<li><a href="https://drive.google.com/file/d/130LECn3_7LoBL6nMHVIGG0zw6DqitPib/view?usp=sharing">“keywords dataframe”</a></li>
<li><a href="https://drive.google.com/file/d/1ReopPjfDglnCiKeJs_TfnMP0T5wM36zx/view?usp=sharing">“credits dataframe”</a></li>
</ul>
</div>
<div id="import-the-libraries-and-the-data" class="section level1">
<h1>2 Import the libraries and the data</h1>
<pre class="r"><code>import pandas as pd
import numpy as np

import preprocessing_recommender_systems as prs

from ast import literal_eval

from sklearn.feature_extraction.text import CountVectorizer
from sklearn.metrics.pairwise import cosine_similarity</code></pre>
<p>As in the <a href="https://michael-fuchs-python.netlify.app/2020/10/03/recommendation-systems-plot-description-based-recommender/">“Plot Description-based Recommender”</a> post I will execute the first pre-processing steps for the main dataset using my stored function in the preprocessing_recommender_systems.py file.
This file is also stored on my <a href="https://github.com/MFuchs1989/Bdown-Python/tree/master/datasets/Recommendation%20Systems/Metadata-based%20Recommender">“GitHub Account”</a> and can be downloaded from there.</p>
<p><img src="/post/2020-10-05-recommendation-systems-metadata-based-recommender_files/p93p.png" /></p>
</div>
<div id="data-pre-processing" class="section level1">
<h1>3 Data pre-processing</h1>
</div>
<div id="clean-id-column-of-df" class="section level1">
<h1>3.1 Clean id column of df</h1>
</div>
<div id="join-the-dataframes" class="section level1">
<h1>3.2 Join the dataframes</h1>
</div>
<div id="wrangling-crew-cast-keywords-and-genres" class="section level1">
<h1>3.3 Wrangling crew, cast, keywords and genres</h1>
<p><strong>Column ‘crew’</strong></p>
<p><strong>Column ‘cast’</strong></p>
<p><strong>Column ‘keywords’</strong></p>
<p><strong>Column ‘genres’</strong></p>
</div>
<div id="sanitize-data" class="section level1">
<h1>3.4 Sanitize data</h1>
</div>
<div id="create-a-soup-of-desired-metadata" class="section level1">
<h1>3.5 Create a soup of desired metadata</h1>
</div>
<div id="create-vectors-with-countvectorizer" class="section level1">
<h1>3.6 Create vectors with CountVectorizer</h1>
</div>
<div id="compute-the-pairwise-similarity" class="section level1">
<h1>3.7 Compute the pairwise similarity</h1>
</div>
<div id="build-the-metadata-based-recommender" class="section level1">
<h1>4 Build the Metadata-based Recommender</h1>
</div>
<div id="test-the-recommender" class="section level1">
<h1>5 Test the recommender</h1>
</div>
<div id="conclusion" class="section level1">
<h1>6 Conclusion</h1>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>Alfarhood, M., &amp; Cheng, J. (2018, December). DeepHCF: a deep learning based hybrid collaborative filtering approach for recommendation systems. In 2018 17th IEEE International Conference on Machine Learning and Applications (ICMLA) (pp. 89-96). IEEE.</p>
<p>Banik, R. (2018). Hands-On Recommendation Systems with Python: Start building powerful and personalized, recommendation engines with Python. Packt Publishing Ltd.</p>
<p>Hug, N. (2020). Surprise: A Python library for recommender systems. Journal of Open Source Software, 5(52), 2174.</p>
<p>Richert, W. (2013). Building machine learning systems with Python. Packt Publishing Ltd.</p>
</div>
