---
title: Getting Started with Anaconda
author: Michael Fuchs
date: '2019-01-05'
slug: getting-started-with-anaconda
categories:
  - R
tags:
  - R Markdown
output:
  blogdown::html_page:
    toc: true
    toc_depth: 5
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#introduction">1 Introduction</a></li>
<li><a href="#install-anaconda">2 Install Anaconda</a></li>
<li><a href="#anaconda-navigator">3 Anaconda Navigator</a>
<ul>
<li><a href="#what-are-environments">3.1 What are environments?</a></li>
<li><a href="#create-a-new-environment">3.2 Create a new Environment</a></li>
<li><a href="#import-environments">3.3 Import Environments</a></li>
</ul></li>
<li><a href="#anaconda-powershell-prompt">4 Anaconda Powershell Prompt</a>
<ul>
<li><a href="#exploring-your-environments">4.1 Exploring your Environments</a></li>
<li><a href="#import-environments-1">4.2 Import Environments</a></li>
<li><a href="#adding-libraries">4.3 Adding Libraries</a>
<ul>
<li><a href="#pip-vs-conda">4.3.1 Pip vs Conda</a></li>
<li><a href="#best-practice">4.3.2 Best Practice</a></li>
<li><a href="#add-packages-via-conda-pip">4.3.3 Add Packages via conda &amp; pip</a></li>
</ul></li>
<li><a href="#installing-a-specific-version">4.4 Installing a specific Version</a></li>
<li><a href="#updating-libraries">4.5 Updating Libraries</a></li>
<li><a href="#exporting-an-existing-environment">4.6 Exporting an existing Environment</a></li>
<li><a href="#creating-a-new-environment">4.7 Creating a new environment</a></li>
<li><a href="#deleting-environments">4.8 Deleting Environments</a></li>
</ul></li>
<li><a href="#starting-a-jupyter-notebook">Starting a Jupyter Notebook</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>1 Introduction</h1>
<p>If you want to work with Python you need a suitable IDE.</p>
<p>IDE stands for “Integrated Development Environment” and there are many different ones you can use for Python:</p>
<ul>
<li><a href="https://eric-ide.python-projects.org/">Eric Python IDE</a></li>
<li><a href="https://www.spyder-ide.org/">Spyder</a></li>
<li><a href="https://www.jetbrains.com/de-de/pycharm/">PyCharm</a></li>
<li><a href="https://atom.io/">Atom</a></li>
</ul>
<p>to name just a few.</p>
<p>I personally prefer to use <a href="https://jupyter.org/">Jupyter Notebooks</a>.
For this we need <a href="https://www.anaconda.com/">Anaconda</a>.
Anaconda is a free and open source distribution of the programming languages Python and R for scientific computing (among others: data science, machine learning).</p>
<p>Using Anaconda in conjunction with Jupyter Notebooks offers two distinct advantages:</p>
<ul>
<li>Using Jupyter Notebooks, you can create and share documents that include live code, equations, visualizations, and narrative text.</li>
<li>Using Anaconda, you can easily and quickly create virtual environments, extend them as desired and share them with other colleagues or clients.</li>
</ul>
<p>In this post I want to show how to get <a href="https://www.anaconda.com/">Anaconda</a> and <a href="https://jupyter.org/">Jupyter Notebooks</a> running.</p>
</div>
<div id="install-anaconda" class="section level1">
<h1>2 Install Anaconda</h1>
<p>First of all we have to install Anaconda. You can do this from here: <a href="https://docs.anaconda.com/anaconda/install/">Anaconda Installation</a>.</p>
<p>Here you can select for which operating system you want to have Anaconda installed. For Windows for example follow this link: <a href="https://www.anaconda.com/products/individual#windows">Anaconda Installation for Windows</a>.</p>
<p>After the .exe file has been downloaded, run it and click through the installation.
There is only one step to pay attention to here. When you get to the Advanced Options section, select <strong>‘Add Anaconda3 to my PATH environment variable’</strong>.
Otherwise we would have to add this path manually later.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p1.png" /></p>
</div>
<div id="anaconda-navigator" class="section level1">
<h1>3 Anaconda Navigator</h1>
<p>After successful installation, search for Anaconda Navigator on your computer.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p2.png" /></p>
<p>As we can see, different IDEs have already been installed with it, including Jupyter Notebooks. On the left side we can now select Environments.</p>
<div id="what-are-environments" class="section level2">
<h2>3.1 What are environments?</h2>
<p>To program with Python we need different libraries (for example numpy or pandas). We can store these collected in virtual environments. It is of great advantage that you can also use specific versions of the libraries.</p>
<p>To program with Python we need different libraries (for example numpy or pandas). We can store these collected in virtual environments. It is of great advantage that you can also use specific versions of the libraries. Why is this important, especially in project work, when you have developed models or done analyses for customers? You have the option of extracting all the libraries used for this purpose with their respective version and handing them over to the customer. In this way, the customer is able to execute the code without errors for a long time. It often happens that parts of packages change and then no longer work. That’s why version management is so incredibly beneficial.</p>
</div>
<div id="create-a-new-environment" class="section level2">
<h2>3.2 Create a new Environment</h2>
<p>We have now selected Environments on the left side.
At the bottom there is a button ‘Create’ with which you can create a new environment.<br />
Give it a desired name and select the Python or R programming language.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p3.png" /></p>
<p>Click on your new environment and select ‘Not installed’ at the top.</p>
<p>Now you can search for new libraries that you have not yet installed in the respective environment. Here for example Pandas.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p4.png" /></p>
<p>At the bottom you can press ‘apply’ to perform the installation. Often it happens that with large libraries like pandas is one, further packages are installed with it.</p>
</div>
<div id="import-environments" class="section level2">
<h2>3.3 Import Environments</h2>
<p>We do not need to load each library individually. Predefined environments with a list of libraries can also be imported at once. I have created a test environment here: environment.yml</p>
<p>Let’s use the Anaconda navigator and go to the environments via the corresponding button on the left.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p5.png" /></p>
<p>At the bottom there is a button called ‘Import’. With it we can import the new environment together with its predefined libraries.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p6.png" /></p>
</div>
</div>
<div id="anaconda-powershell-prompt" class="section level1">
<h1>4 Anaconda Powershell Prompt</h1>
<p>With Anaconda, the Anaconda Powershell Prompt was also downloaded. I actually manage my environment exclusively via the Anaconda Powershell Prompt. The reason for this is that I can’t do everything via the Anaconda Navigator. For example, I can’t find all libraries via the search function such as the very popular jupyter_contrib_nbextensions. Another reason is that I cannot extract environments for sharing.</p>
<div id="exploring-your-environments" class="section level2">
<h2>4.1 Exploring your Environments</h2>
<p>With the following command we get an overview of the existing environments installed:</p>
<p><code>conda env list</code></p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p7.png" /></p>
<p>Ok, so far we have only installed the base environment but to see which libraries with which version are installed in the base environment, use the following command:</p>
<p><code>conda list -n base</code></p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p8.png" /></p>
<p>Alternatively, you can activate the desired environment and then display the installed libraries:</p>
<p><code>conda activate "your_env"</code></p>
<p><code>conda list</code></p>
<p>If you want to check which version of a particular library is installed (in the activated environment) you can also query that directly:</p>
<p><code>conda list pandas</code></p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p9.png" /></p>
<p>Here we see that in the base environment pandas is installed with version 1.4.3.</p>
<p>If you want to see which Python version is installed use this command here:</p>
<p><code>python -V</code></p>
</div>
<div id="import-environments-1" class="section level2">
<h2>4.2 Import Environments</h2>
<p>We can also import predefined environments using the Anaconda Powershell prompt.</p>
<p>If you want to have the created sample environment feel free to download it from my <a href="https://github.com/MFuchs1989/Datasets-and-Miscellaneous/tree/main/miscellaneous/environment">GitHub Repository</a>.</p>
<p>Navigate again with cd to the respective place where the .yml file is stored:</p>
<p><code>cd "path/to/root directory"</code></p>
<p><code>conda env create -f environment.yml</code></p>
<p>In our demo environment I installed the following basic libraries:</p>
<ul>
<li>python</li>
<li>pandas</li>
<li>numpy</li>
<li>scikit-learn</li>
<li>matplotlib</li>
<li>seaborn</li>
<li>nltk</li>
<li>pip (from conda!)</li>
<li>tensorflow (via pip)</li>
<li>keras (via pip)</li>
<li>xgboost (via pip)</li>
<li><strong>jupyter_contrib_nbextensions</strong> (via pip)</li>
</ul>
<p>Of course, some cool libraries will be added over time. How to add them you will learn in a moment.</p>
<p>And already we have a new environment installed:</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p10.png" /></p>
<p>You can also use the list command to see which library was installed with which package manager. See the entries <em>‘pypi’</em> or <em>‘anaconda’</em> in the column <em>‘Channel’</em>.</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p11.png" /></p>
<p>How this comes about I explain in the following chapter.</p>
</div>
<div id="adding-libraries" class="section level2">
<h2>4.3 Adding Libraries</h2>
<div id="pip-vs-conda" class="section level3">
<h3>4.3.1 Pip vs Conda</h3>
<p>Python supports third-party frameworks and libraries that already contain various features and elements that can be used by programmers.</p>
<p>Pip and Conda are both package managers that assist in the installation and management (update or removal) of packages.</p>
<p>Pip is the official package manager of the Python Software Foundation. It gets its packages from the official software repository PyPI (Python Package Index) and is delivered by default with the installation of Python.</p>
<p>In contrast, conda is a language-independent and cross-platform package manager that manages Python packages, among other things (C libraries or executables like C compilers). It is supplied by default with the installation of Anaconda.</p>
<p>Unfortunately, <strong>problems can occur if conda and pip are used together</strong> when creating an environment.</p>
<p>Most of these problems originate from the fact that conda has limited ability to control packages that it did not install itself.</p>
<p>If conda is run after pip, packages installed via pip can be overwritten.
Likewise, a library installed by pip may inadvertently update or remove packages that are needed by other conda libraries and thus become unusable.</p>
</div>
<div id="best-practice" class="section level3">
<h3>4.3.2 Best Practice</h3>
<p>Conda is often used for data science and machine learning applications and is therefore the more interesting package manager for me. However, pip is the central package pool with far more available libraries than is the case in conda. Thus, <strong>sometimes it is simply unavoidable to use both pip and conda in the same environment</strong> at the same time, as some libraries are exclusively available to PyPI.</p>
<p>Therefore, there are some <strong>recommendations that should be followed</strong>:</p>
<ul>
<li>Use virtual environments for isolation</li>
<li>Create a separate (virtual) environment for each project</li>
<li>Install as many libraries as possible with conda</li>
<li>If there is no way around pip, install the pip version of Anaconda (conda install -c anaconda pip) in your virtual environment first, so that the PyPI package is only installed in this environment and not across all environments</li>
<li>Make sure that pip does not run in the “root” environment</li>
<li>Make a backup copy of your environment so that you can fall back to the old state</li>
</ul>
</div>
<div id="add-packages-via-conda-pip" class="section level3">
<h3>4.3.3 Add Packages via conda &amp; pip</h3>
<p>For both options, <strong>make sure that you have activated the desired environment</strong> in which to install the new package. For the second one, <strong>make sure that the pip version of Anaconda is installed</strong>.</p>
<p><code>conda activate "your_env"</code></p>
<p><strong>Conda:</strong></p>
<p><code>conda install -c anaconda django</code></p>
<p><strong>Pip:</strong></p>
<p>We assume here that Theano is only available via PyPI (I know there is also an Anaconda version for this).</p>
<p><code>pip install Theano</code></p>
</div>
</div>
<div id="installing-a-specific-version" class="section level2">
<h2>4.4 Installing a specific Version</h2>
<p>By default, the latest version of a library is installed or at least the latest allowed one (due to dependencies to other libraries).</p>
<p>However, you can also install specific versions of a package:</p>
<p><code>conda activate "your_env"</code></p>
<p><strong>Conda:</strong></p>
<p><code>conda install -c anaconda django==3.2.0</code></p>
<p><strong>Pip:</strong></p>
<p>We assume here that Theano is only available via PyPI (I know there is also an Anaconda version for this).</p>
<p><code>pip install Theano==1.0.3</code></p>
<p>Let’s display the installed versions:</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p12.png" /></p>
</div>
<div id="updating-libraries" class="section level2">
<h2>4.5 Updating Libraries</h2>
<p>If you have been working with an environment for a while and suspect/know that there is already a newer version of a package, you can also update this library:</p>
<p><code>conda activate "your_env"</code></p>
<p><strong>Conda:</strong></p>
<p><code>conda update django</code></p>
<p><strong>Pip:</strong></p>
<p>We assume here that Theano is only available via PyPI (I know there is also an Anaconda version for this).</p>
<p><code>pip install Theano --upgrade</code></p>
<p>With these two commands, the latest or latest possible version is installed again.</p>
<p>Let’s display the installed versions again:</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p13.png" /></p>
<p>If you want to update your complete environment you can do it with this:</p>
<p><code>conda update -n "your_env" --all</code></p>
</div>
<div id="exporting-an-existing-environment" class="section level2">
<h2>4.6 Exporting an existing Environment</h2>
<p>Why I like working with virtual environments so much is shown by the fact that you can export existing environments very easily. Either because you want to make a backup or to share with colleagues so that everyone is working with the same libraries or versions of the packages. It’s not uncommon for developers to have problems just because they’ve been working with different versions of libraries.</p>
<p>Make sure that the environment you want to export is activated.</p>
<p><code>conda activate "your_env"</code></p>
<p><code>cd "path/to/destination"</code></p>
<p><code>conda env export --file exported.yml</code></p>
<p>The activated environment is now exported to the named destination and saved as a .yml file.</p>
<p>Here it is:</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p14.png" /></p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p15.png" /></p>
<p>I always use <a href="https://code.visualstudio.com/">Visual Studio Code</a> to open this .yml file.</p>
<p>Please make two changes in the .yml file:</p>
<ul>
<li>Change the name (at the top) to be the same as the name of the .yml file.</li>
<li>Delete the Prefix at the end of the file</li>
</ul>
</div>
<div id="creating-a-new-environment" class="section level2">
<h2>4.7 Creating a new environment</h2>
<p>As I mentioned before, it is advisable to create a separate environment for each new project. This can be done either by importing a .yml file with a base environment and adding all the necessary packages manually or by creating a completely new environment directly from Anaconda Powershell Prompt.</p>
<p>This is really very simple and fast, just use:</p>
<p><code>conda create -n myenv</code></p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p16.png" /></p>
<p>As I said, super easy but as we can see it is unfortunately still completely empty.</p>
<p><strong>First of all</strong> I activate the new environment and <strong>install pip from anaconda</strong> as a package.</p>
<p><code>conda activate "your_env"</code></p>
<p><code>conda install -c anaconda pip</code></p>
<p>After that, all sorts of other libraries can be added without hesitation.</p>
<p>For example, here is a list of the packages I used to create the example environment (found here in my <a href="https://github.com/MFuchs1989/Datasets-and-Miscellaneous/tree/main/miscellaneous/environment">GitHub Repository</a>):</p>
<ul>
<li><strong>conda install -c anaconda pip</strong></li>
<li>conda install -c anaconda pandas</li>
<li>conda install -c anaconda numpy</li>
<li>conda install -c anaconda scikit-learn</li>
<li>conda install -c conda-forge matplotliby</li>
<li>conda install -c anaconda seaborn</li>
<li>conda install -c anaconda nltk</li>
<li>pip install tensorflow</li>
<li>pip install keras</li>
<li>pip install xgboost</li>
<li><strong>pip install jupyter_contrib_nbextensions</strong></li>
<li><strong>jupyter contrib nbextension install –user</strong></li>
</ul>
</div>
<div id="deleting-environments" class="section level2">
<h2>4.8 Deleting Environments</h2>
<p>Quite apart from storage capacity reasons, I quite like to keep my workspace as clean as possible. This includes deleting environments that are no longer needed (after exporting them to a .yml file, of course).</p>
<p>This can be done with the following two steps:</p>
<p><code>conda deactivate "your_env"</code></p>
<p><code>conda env remove -n myenv</code></p>
<p>And again we have only two environments:</p>
<p><img src="/post/2019-01-05-getting-started-with-anaconda_files/p102p17.png" /></p>
<p>Now we have deleted the environment, but the file under Anaconda is most likely still there.
Use this <strong>command to see where your environments are stored</strong> and then delete the folder (in our case this would have been ‘myenv’) so that everything is really clean again:</p>
<p><code>conda info --envs</code></p>
</div>
</div>
<div id="starting-a-jupyter-notebook" class="section level1">
<h1>Starting a Jupyter Notebook</h1>
</div>
